%!PS-Adobe-2.0 EPSF-2.0
%%BoundingBox: 51 279 528 717
%%Title: /home/alext/sgi/GRID/INPAINTING/EPS/code.eps
%%CreationDate: 3:32 PM June  2, 2003
%%Pages: 1
%%EndComments
%%BeginProlog
%%BeginResource ShowcaseResource
1 setlinejoin
/M  { moveto } bind def /S { show  } bind def
/R { rmoveto } bind def /L { lineto } bind def
/B { newpath 0 0 M 0 1 L 1 1 L 1 0 L closepath } bind def
/CS { closepath stroke } bind def
/S {
    /fixwidth exch def
    dup length /nchars exch def
    dup stringwidth pop
    fixwidth exch sub nchars div
    exch 0 exch ashow
} def
/bwproc {
	rgbproc
	dup length 3 idiv string 0 3 0
	5 -1 roll {
	add 2 1 roll 1 sub dup 0 eq
	{ pop 3 idiv 3 -1 roll dup 4 -1 roll dup
	  3 1 roll 5 -1 roll put 1 add 3 0 }
	{ 2 1 roll } ifelse
	} forall
	pop pop pop
} def
systemdict /colorimage known not {
	/colorimage {
		pop
		pop
		/rgbproc exch def
		{ bwproc } image
	} def
} if
1 1 scale
0 setlinewidth
/drawtri {
/y3 exch def
/x3 exch def
/y2 exch def
/x2 exch def
/y1 exch def
/x1 exch def
0 setgray
newpath
x1 y1 moveto
x2 y2 lineto
x3 y3 lineto
closepath
stroke
} bind def
/filltri {
/y3 exch def
/x3 exch def
/y2 exch def
/x2 exch def
/y1 exch def
/x1 exch def
newpath
x1 y1 moveto
x2 y2 lineto
x3 y3 lineto
closepath
fill
} bind def
/cliptri {
/y3 exch def
/x3 exch def
/y2 exch def
/x2 exch def
/y1 exch def
/x1 exch def
0 setgray
newpath
x1 y1 moveto
x2 y2 lineto
x3 y3 lineto
closepath
clip
} bind def
/imgscanrgb {
gsave
translate
/scandy exch def
/scandx exch def
/istr scandx 3 mul string def
scandx scandy scale
scandx scandy 8
[scandx 0 0 scandy neg 0 scandy]
{currentfile istr readhexstring pop}
false 3
colorimage
grestore
} bind def
/imgscanbw {
gsave
translate
/scandy exch def
/scandx exch def
/istr scandx string def
scandx scandy scale
scandx scandy 8
[scandx 0 0 scandy neg 0 scandy]
{currentfile istr readhexstring pop}
image
grestore
} bind def
/showcaseisoencoding [
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/space /exclam /quotedbl /numbersign
/dollar /percent /ampersand /quoteright
/parenleft /parenright /asterisk /plus
/comma /minus /period /slash
/zero /one /two /three /four /five /six /seven
/eight /nine /colon /semicolon
/less /equal /greater /question
/at /A /B /C /D /E /F /G
/H /I /J /K /L /M /N /O
/P /Q /R /S /T /U /V /W
/X /Y /Z /bracketleft
/backslash /bracketright /asciicircum /underscore
/quoteleft /a /b /c /d /e /f /g
/h /i /j /k /l /m /n /o
/p /q /r /s /t /u /v /w
/x /y /z /braceleft
/bar /braceright /asciitilde /guilsinglright
/fraction /florin /quotesingle /quotedblleft
/guilsinglleft /fi /fl /endash
/dagger /daggerdbl /bullet /quotesinglbase
/quotedblbase /quotedblright /ellipsis /trademark
/dotlessi /grave /acute /circumflex
/tilde /macron /breve /dotaccent
/dieresis /perthousand /ring /cedilla
/Ydieresis /hungarumlaut /ogonek /caron
/emdash /exclamdown /cent /sterling
/currency /yen /brokenbar /section
/dieresis /copyright /ordfeminine /guillemotleft
/logicalnot /hyphen /registered /macron
/degree /plusminus /twosuperior /threesuperior
/acute /mu /paragraph /periodcentered
/cedilla /onesuperior /ordmasculine /guillemotright
/onequarter /onehalf /threequarters /questiondown
/Agrave /Aacute /Acircumflex /Atilde
/Adieresis /Aring /AE /Ccedilla
/Egrave /Eacute /Ecircumflex /Edieresis
/Igrave /Iacute /Icircumflex /Idieresis
/Eth /Ntilde /Ograve /Oacute
/Ocircumflex /Otilde /Odieresis /multiply
/Oslash /Ugrave /Uacute /Ucircumflex
/Udieresis /Yacute /Thorn /germandbls
/agrave /aacute /acircumflex /atilde
/adieresis /aring /ae /ccedilla
/egrave /eacute /ecircumflex /edieresis
/igrave /iacute /icircumflex /idieresis
/eth /ntilde /ograve /oacute
/ocircumflex /otilde /odieresis /divide
/oslash /ugrave /uacute /ucircumflex
/udieresis /yacute /thorn /ydieresis ] def
/showcasedingbatencoding [
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef
/.notdef /a1 /a2 /a202 /a3 /a4 /a5 /a119 /a118 /a117
/a11 /a12 /a13 /a14 /a15 /a16 /a105 /a17 /a18 /a19
/a20 /a21 /a22 /a23 /a24 /a25 /a26 /a27 /a28 /a6 /a7
/a8 /a9 /a10 /a29
/a30 /a31 /a32 /a33 /a34 /a35 /a36 /a37 /a38 /a39
/a40 /a41 /a42 /a43 /a44 /a45 /a46 /a47 /a48 /a49
/a50 /a51 /a52 /a53 /a54 /a55 /a56 /a57 /a58 /a59
/a60 /a61 /a62 /a63 /a64 /a65 /a66 /a67 /a68 /a69
/a70 /a71 /a72 /a73 /a74 /a203 /a75 /a204 /a76 /a77 /a78
/a79 /a81 /a82 /a83 /a84 /a97 /a98 /a99 /a100 /.notdef
/a205 /a85 /a206 /a86 /a87 /a88 /a89 /a90 /a91 /a92 /a93
/a94 /a95 /a96
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /a101 /a102 /a103 /a104 /a106 /a107 /a108
/a112 /a111 /a110 /a109
/a120 /a121 /a122 /a123 /a124 /a125 /a126 /a127 /a128 /a129
/a130 /a131 /a132 /a133 /a134 /a135 /a136 /a137 /a138 /a139
/a140 /a141 /a142 /a143 /a144 /a145 /a146 /a147 /a148 /a149
/a150 /a151 /a152 /a153 /a154 /a155 /a156 /a157 /a158 /a159
/a160 /a161 /a163 /a164 /a196 /a165 /a192 /a166 /a167 /a168
/a169 /a170 /a171 /a172 /a173 /a162 /a174 /a175 /a176 /a177
/a178 /a179 /a193 /a180 /a199 /a181 /a200 /a182 /.notdef
/a201 /a183 /a184 /a197 /a185 /a194 /a198 /a186 /a195 /a187
/a188 /a189 /a190 /a191 /.notdef
] def
/Courier findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  /Encoding showcaseisoencoding def
  currentdict
end
/Courier exch definefont pop
/Courier-Bold findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  /Encoding showcaseisoencoding def
  currentdict
end
/Courier-Bold exch definefont pop
/newfont 10 dict def
newfont begin

 /FontType 3 def
 /FontMatrix [1 0 0 1 0 0] def
 /FontBBox [0 0 1 1] def
 /Encoding 256 array def
 0 1 255 {Encoding exch /.notdef put} for

 /CharProcs 1 dict def
 CharProcs begin
 /.notdef {} def

end

 /BuildChar {
  1 0
  0 0 1 1
  setcachedevice
  exch begin
  Encoding exch get
  CharProcs exch get
  end
  exec
 } def
end
/PatternFont newfont definefont pop

%%EndResource
%%EndProlog
%%BeginSetup
%%EndSetup
%%Page: label 1
gsave
/saveit save def
gsave
gsave
gsave
matrix currentmatrix
[1 0 0 1 51 280] concat
newpath
0 0 M 0 437 L 477 437 L 477 0 L
closepath setmatrix
0 0 0 setrgbcolor
grestore
newpath
49 278 M 49 719 L 530 719 L 530 278 L
closepath clip newpath
0 0 0 setrgbcolor
matrix currentmatrix
[1 0 0 1 51 280] concat
/Courier findfont 12 scalefont setfont
0 0 0 setrgbcolor
10 427.571 M (while \(NarrowBand n) 136.8 S
146.8 427.571 M (ot empty\)) 64.8 S
10 415.571 M ({) 7.2 S
10 403.571 M (  extract P\(i,j\) = ) 136.8 S
146.8 403.571 M (head\(NarrowBand\);  ) 136.8 S
283.6 403.571 M (    /* STEP 1 */) 115.2 S
10 391.571 M (  f\(i,j\) = ) 79.2 S
89.2 391.571 M (KNOWN;) 43.2 S
10 379.571 M (  for \(k,l\) in {\(i-) 136.8 S
146.8 379.571 M (1,j\),\(i,j-1\),\(i+1,j) 136.8 S
283.6 379.571 M (\),\(i,j+1\)}) 72 S
10 367.571 M (  if \(f\(k,l\)!=KNOWN) 136.8 S
146.8 367.571 M (\)) 7.2 S
10 355.571 M (  {) 21.6 S
10 343.571 M (    if \(f\(k,l\)==INS) 136.8 S
146.8 343.571 M (IDE\) ) 36 S
10 331.571 M (    {  ) 50.4 S
10 319.571 M (       f\(k,l\)=BAND;) 136.8 S
146.8 319.571 M (      ) 43.2 S
298 319.571 M (  /* STEP 2 */) 100.8 S
/Courier-Bold findfont 12 scalefont setfont
10 307.571 M (       inpaint\(k,l\)) 136.8 S
146.8 307.571 M (;) 7.2 S
298 307.571 M (  /* STEP 3) 79.2 S
377.2 307.571 M ( */) 21.6 S
/Courier findfont 12 scalefont setfont
10 295.571 M (    }              ) 136.8 S
146.8 295.571 M (           ) 79.2 S
10 283.571 M (    T \(k,l\) = min\(s) 136.8 S
146.8 283.571 M (olve\(k-1,l,k,l-1\), ) 136.8 S
283.6 283.571 M (    /* STEP 4) 93.6 S
377.2 283.571 M ( */   ) 43.2 S
10 271.571 M (                  s) 136.8 S
146.8 271.571 M (olve\(k+1,l,k,l-1\),) 129.6 S
10 259.571 M (                  s) 136.8 S
146.8 259.571 M (olve\(k-1,l,k,l+1\),) 129.6 S
10 247.571 M (                  s) 136.8 S
146.8 247.571 M (olve\(k+1,l,k,l+1\)\);) 136.8 S
10 235.571 M (    insert\(k,l\) in ) 136.8 S
146.8 235.571 M (NarrowBand;        ) 136.8 S
283.6 235.571 M (    /* STEP 5) 93.6 S
377.2 235.571 M ( */) 21.6 S
10 223.571 M (  }) 21.6 S
10 211.571 M (}) 7.2 S
10 187.571 M (float solve\(int i1,) 136.8 S
146.8 187.571 M (int j1,int i2,int j) 136.8 S
283.6 187.571 M (2\)) 14.4 S
10 175.571 M ({) 7.2 S
10 163.571 M ( float sol = 1.0e6;) 136.8 S
10 151.571 M ( if \(f\(i1,j1\)==KNOW) 136.8 S
146.8 151.571 M (N\)) 14.4 S
10 139.571 M (   if \(f\(i2,j2\)==KN) 136.8 S
146.8 139.571 M (OWN\)) 28.8 S
10 127.571 M (   {) 28.8 S
10 115.571 M (     float r = sqrt) 136.8 S
146.8 115.571 M (\(2-\(T\(i1,j1\)-T\(i2,j) 136.8 S
283.6 115.571 M (2\)\)*\(T\(i1,j1\)-T\(i2,) 136.8 S
420.4 115.571 M (j2\)\)\);) 43.2 S
10 103.571 M (     float s = \(T\(i) 136.8 S
146.8 103.571 M (1,j1\)+T\(i2,j2\)-r\)/2) 136.8 S
283.6 103.571 M (;) 7.2 S
10 91.5715 M (     if \(s>=T\(i1,j1) 136.8 S
146.8 91.5715 M (\) && s>=T\(i2,j2\)\) s) 136.8 S
283.6 91.5715 M (ol = s;) 50.4 S
10 79.5715 M (     else) 64.8 S
10 67.5715 M (     { s += r; if \() 136.8 S
146.8 67.5715 M (s>=T\(i1,j1\) && s>=T) 136.8 S
283.6 67.5715 M (\(i2,j2\)\) sol = s; }) 136.8 S
10 55.5715 M (   }) 28.8 S
10 43.5715 M (   else sol = 1+T\(i) 136.8 S
146.8 43.5715 M (1,j1\)\);) 50.4 S
10 31.5715 M ( else if \(f\(i2,j2\)=) 136.8 S
146.8 31.5715 M (=KNOWN\) sol = 1+T\(i) 136.8 S
283.6 31.5715 M (1,j2\)\); ) 57.6 S
10 19.5715 M ( return sol;) 86.4 S
10 7.57147 M (}) 7.2 S
setmatrix
grestore
grestore
showpage
saveit restore
grestore
%%EOF
